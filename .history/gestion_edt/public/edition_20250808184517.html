<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emploi du temps - Édition</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>
    <style>
        /* CSS DE BASE ET CONTRÔLES */
        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif; } 
        :root { --primary: #1a2a6c; --primary-light: #2c3e9d; --border-color: #dde4ed; } 
        body { background-color: #fdfdfd; padding-top: 70px; user-select: none; } 
        nav { position: fixed; top: 0; left: 0; width: 100%; height: 60px; padding: 10px 20px; background: #fff; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); display: flex; align-items: center; z-index: 1001; justify-content: space-between; } 
        .container { width: 100%; max-width: 98%; margin: 0 auto; padding: 15px; } 
        .hidden { display: none !important; }
        .control { display: flex; justify-content: space-between; align-items: center; padding: 10px 20px; height: 70px; margin-bottom: 20px; border-radius: 12px;  }
        
        /* ==================================================================== */
        /* === DÉBUT DE LA MODIFICATION DES STYLES POUR LES BOUTONS DE CONTRÔLE === */
        /* ==================================================================== */


        @keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

/* Nouveau style principal pour les boutons */
.btn-control {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 18px; /* Padding horizontal pour la largeur */
  gap: 10px;        /* Espace entre l'icône et le texte */
  height: 45px;     /* Hauteur fixe */
  min-width: 150px; /* Largeur minimale pour l'uniformité */
  border: none;
  background: #e6f0ff; /* Fond bleu très clair */
  border-radius: 20px;   /* Bords arrondis */
  cursor: pointer;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Helvetica Neue", Helvetica, Arial, sans-serif;
  color: #056dfa; /* Couleur pour le texte */
  font-weight: 600;
  font-size: 15px;
  letter-spacing: 0.5px;
  box-shadow: none; /* On supprime les anciennes ombres */
}

/* Style de l'icône Font Awesome à l'intérieur du bouton */
.btn-control i {
  font-size: 18px;  /* Taille de l'icône */
  color: #056dfa;    /* Couleur de l'icône, assortie au texte */
}

/* Effet au survol du bouton */
.btn-control:hover {
  background: #d2e3fd; /* Fond un peu plus foncé */
}



        /* ================================================================== */
        /* === FIN DE LA MODIFICATION DES STYLES POUR LES BOUTONS DE CONTRÔLE === */
        /* ================================================================== */

        .tab-container { position: relative; display: flex; align-items: flex-start; padding: 2px; background-color: #e0e0e0; border-radius: 9px; width: 264px; margin: 0 auto; height: 45px; } 
        .indicator { content: ""; width: 130px; height: 40px; background: white; position: absolute; top: 2px; left: 2px; z-index: 9; border-radius: 7px; transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55); box-shadow: 0 1px 5px rgba(0,0,0,0.1); } 
        .tab { width: 130px; height: 40px; position: absolute; z-index: 99; outline: none; opacity: 0; cursor: pointer; } 
        .tab_label { width: 130px; height: 40px; position: relative; z-index: 999; display: flex; align-items: center; justify-content: center; font-size: 1rem; color: black; opacity: 0.8; cursor: pointer; transition: all 0.3s ease; font-weight: 500; } 
        .tab--1:checked ~ .indicator { left: 2px; } 
        .tab--2:checked ~ .indicator { left: calc(130px + 2px); } 
        .tab:checked + .tab_label { opacity: 1; font-weight: 600; color: var(--primary-light); }
        .table-container {
            max-height: calc(100vh - 210px); 
            overflow: auto; 
            border: 1px solid var(--border-color);
            -webkit-overflow-scrolling: touch;
            border-radius: 18px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }

        #global-schedule thead {
          z-index: 300;
          border: 1px solid var(--border-color);
        }

        #global-schedule th {
          position: sticky !important;
          top: 0 !important;
          background-color: #f8f9fa;
          border: 1px solid var(--border-color);
          z-index: 300 !important;
          box-shadow: 0 2px 2px -1px rgba(0, 0, 0, 0.1);
          font-weight: 600;
        }

        /* Overlay de chargement PDF */
        #pdf-loading-overlay { 
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.6);
            z-index: 2000;
            display: none; justify-content: center; align-items: center; flex-direction: column; color: white;
        }
        #pdf-loading-message { font-size: 1.2rem; padding: 20px; background: #333; border-radius: 10px; }
        
        /* Styles Calendrier Personnalisé */
        .custom-week-picker { position: relative; min-width: 250px; }
        #customWeekDisplay {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1.1rem;
            background-color: #fff;
            cursor: pointer;
            text-align: center;
            user-select: none;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
        }

        #customWeekDisplay img { height: 25px; width: auto; }
        @keyframes fadeInScaleUp { from { opacity: 0; transform: translateX(-50%) scale(0.95); } to { opacity: 1; transform: translateX(-50%) scale(1); } }
        #calendarPopup { display: none; position: absolute; top: calc(100% + 5px); left: 50%; transform: translateX(-50%); width: 320px; background: #fff; border: 1px solid #e0e0e0; border-radius: 10px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); z-index: 1200; padding: 15px; animation: fadeInScaleUp 0.2s ease-out; }
        .calendar-header { display: flex; justify-content: space-between; align-items: center; padding-bottom: 10px; margin-bottom: 10px; border-bottom: 1px solid #f0f0f0; }
        .calendar-header button { background: none; border: none; font-size: 1rem; cursor: pointer; color: #555; border-radius: 50%; width: 32px; height: 32px; display: flex; align-items: center; justify-content: center; transition: background-color 0.2s; }
        .calendar-header button:hover { background-color: #f0f4ff; color: #3498db; }
        .calendar-title { font-weight: 600; font-size: 1.1rem; color: #2c3e50; }
        .calendar-grid { width: 100%; border-collapse: collapse; text-align: center; }
        .calendar-grid th { font-size: 0.8rem; color: #95a5a6; padding-bottom: 10px; font-weight: 600; text-transform: uppercase; }
        .calendar-grid td { padding: 2px; }
        .calendar-day { width: 100%; height: 36px; display: flex; align-items: center; justify-content: center; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; font-size: 0.95rem; border: 1px solid transparent; }
        .calendar-day:hover { background-color: #f0f4ff; transform: scale(1.05); }
        .calendar-day.other-month { opacity: 0.4; }
        .calendar-day.disabled-day { color: #bdc3c7; background-color: #f9f9f9; cursor: not-allowed; }
        .calendar-day.disabled-day:hover { background-color: #f9f9f9; transform: none; }
        .calendar-day.today { border-color: #3498db; color: #3498db; font-weight: bold; }
        .calendar-day.selected-in-range { background-color: #eaf5ff; color: #2980b9; border-radius: 0; }
        .calendar-day.selected-start { background-color: #3498db; color: #fff; border-top-left-radius: 20px; border-bottom-left-radius: 20px; }
        .calendar-day.selected-end { background-color: #3498db; color: #fff; border-top-right-radius: 20px; border-bottom-right-radius: 20px; }
        
        /* Styles Tableau Global */
        #global-schedule { width: 100%; border-collapse: collapse; font-size: 14px; color: #333; table-layout: fixed; }
        #global-schedule thead { position: sticky !important; top: 0 !important; z-index: 300 !important; }
        #global-schedule th { text-align: center; font-weight: 600; color: #2c3e50; white-space: nowrap; font-size: 15px; padding: 12px 8px; background-color: #f8f9fa; border: 1px solid var(--border-color); }
        #global-schedule td { height: 40px; text-align: center; padding: 6px 8px; word-wrap: break-word; font-weight: 500; border: 1px solid #ecf0f1; }
        .name-cell { background: linear-gradient(to right, #2e55cc, #3927ae); color: white; font-weight: 600; vertical-align: middle; writing-mode: vertical-rl; transform: rotate(180deg); white-space: nowrap; padding: 8px 6px !important;  width: 5% !important;  min-width: 45px; font-size: 1rem; border-right: 2px solid #fff; }
        .type-cell { background-color: #fdfdfe; font-weight: 600; font-size: 11px; width: 100px; text-align: center; color: #555; border-right: 1px solid #ecf0f1; }
        #global-schedule .salle-row td { border-bottom: 3px solid #bdc3c7 !important; }
        .day-header-lundi, .day-header-mardi, .day-header-mercredi, .day-header-jeudi, .day-header-vendredi, .day-header-samedi, .slot-header, .day-lundi, .day-mardi, .day-mercredi, .day-jeudi, .day-vendredi, .day-samedi { background-color: transparent !important; }
        #global-schedule td:not(:empty):not(.type-cell) { background-color: #e8f5e9; }
        
        /* Styles Vue Détaillée */
        #specific-search-section .main-grid { display: grid; grid-template-columns: 300px 1fr; gap: 15px; }
        #specific-search-section .card { border-radius: 12px; border: 1px solid var(--border-color); width: 100%; background: white; overflow: visible; min-height: 600px; }
        #specific-search-section .card-body { padding: 20px; }
        #specific-search-section .search-label { display: block; margin-bottom: 12px; font-weight: 600; color: var(--primary); font-size: 1.05rem; }
        #specific-search-section .autocomplete-container { position: relative; }
        #specific-search-section .autocomplete-input { width: 100%; padding: 14px 20px; border: 1px solid #d1d9e6; border-radius: 10px; font-size: 1rem; }
        #specific-search-section .autocomplete-list { position: absolute; top: calc(100% + 5px); left: 0; right: 0; max-height: 400px; overflow-y: auto; background: white; border: 1px solid #d1d9e6; border-radius: 10px; box-shadow: 0 8px 20px rgba(0,0,0,0.1); z-index: 500; display: none; }
        #specific-search-section .autocomplete-item { padding: 12px 20px; cursor: pointer; }
        #specific-search-section .autocomplete-item:hover { background-color: #f0f7ff; }
        #specific-search-section .table-container { box-shadow: 0 2px 10px rgba(0,0,0,0.03); }
        #specific-search-section table { width: 100%; border-collapse: collapse; font-size: 0.9rem; }
        #specific-search-section th, #specific-search-section td { border: 1px solid #ddd; background-color: #f8f9fa; padding: 8px; text-align: center; vertical-align: middle; }
        #specific-search-section th { background-color: #ffffff; font-weight: 600; color: #2c3e50; font-size: 15px; }
        #specific-search-section .day-header { font-weight: 600; background: linear-gradient(to right, #2e55cc, #3927ae); color: white; }
        #specific-search-section .info-type { background-color: #f0f7ff; font-weight: 600; }
        
        /* Styles Assistant Vocal */
        #voiceAssistantBtn {
          position: fixed;
          bottom: 30px;
          right: 30px;
          z-index: 1100;
        }

        .uiverse {
          --duration: 7s;
          --easing: linear;
          --c-color-1: rgba(255, 163, 26, 0.7);
          --c-color-2: #1a23ff;
          --c-color-3: #e21bda;
          --c-color-4: rgba(255, 232, 26, 0.7);
          --c-shadow: rgba(255, 223, 87, 0.5);
          --c-shadow-inset-top: rgba(255, 223, 52, 0.9);
          --c-shadow-inset-bottom: rgba(255, 250, 215, 0.8);
          --c-radial-inner: #ffd215;
          --c-radial-outer: #fff172;
          --c-color: #ffffff;
          -webkit-tap-highlight-color: transparent;
          -webkit-appearance: none;
          outline: none;
          position: relative;
          cursor: pointer;
          border: none;
          width: 60px; 
          height: 60px;
          border-radius: 50%;
          padding: 0;
          margin: 0;
          text-align: center;
          font-weight: 600;
          letter-spacing: 0.02em;
          line-height: 1.5;
          color: var(--c-color);
          background: radial-gradient(
            circle,
            var(--c-radial-inner),
            var(--c-radial-outer) 80%
          );
          box-shadow: 0 0 14px var(--c-shadow);
        }

        .uiverse:before {
          content: "";
          pointer-events: none;
          position: absolute;
          z-index: 3;
          left: 0;
          top: 0;
          right: 0;
          bottom: 0;
          border-radius: 50%;
          box-shadow:
            inset 0 3px 12px var(--c-shadow-inset-top),
            inset 0 -3px 4px var(--c-shadow-inset-bottom);
        }

        .uiverse .wrapper {
          -webkit-mask-image: -webkit-radial-gradient(white, black);
          overflow: hidden;
          border-radius: 50%; 
          width: 100%;
          height: 100%;
          display: flex;
          align-items: center;
          justify-content: center;
        }

        .uiverse .wrapper span {
          display: inline-block;
          position: relative;
          z-index: 1;
          font-size: 24px;
          line-height: 0;
        }

        .uiverse:hover { --duration: 1400ms; }
        .uiverse.listening {
            --duration: 1s;
            box-shadow: 0 0 25px var(--c-color-2), 0 0 15px var(--c-shadow);
        }
        .uiverse.listening span i { animation: pulse-mic 1.5s infinite; }
        @keyframes pulse-mic {
            0% { transform: scale(1); color: #e74c3c; }
            50% { transform: scale(1.3); color: #1a23ff; }
            100% { transform: scale(1); color: #e74c3c; }
        }
        .uiverse .wrapper .circle {
          position: absolute;
          left: 0;
          top: 0;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          filter: blur(var(--blur, 8px));
          background: var(--background, transparent);
          transform: translate(var(--x, 0), var(--y, 0)) translateZ(0);
          animation: var(--animation, none) var(--duration) var(--easing) infinite;
        }
        .uiverse .wrapper .circle.circle-1,
        .uiverse .wrapper .circle.circle-9,
        .uiverse .wrapper .circle.circle-10 { --background: var(--c-color-4); }
        .uiverse .wrapper .circle.circle-3,
        .uiverse .wrapper .circle.circle-4 { --background: var(--c-color-2); --blur: 14px; }
        .uiverse .wrapper .circle.circle-5,
        .uiverse .wrapper .circle.circle-6 { --background: var(--c-color-3); --blur: 16px; }
        .uiverse .wrapper .circle.circle-2,
        .uiverse .wrapper .circle.circle-7,
        .uiverse .wrapper .circle.circle-8,
        .uiverse .wrapper .circle.circle-11,
        .uiverse .wrapper .circle.circle-12 { --background: var(--c-color-1); --blur: 12px; }
        .uiverse .wrapper .circle.circle-1 { --x: 0; --y: -40px; --animation: circle-1; }
        .uiverse .wrapper .circle.circle-2 { --x: 92px; --y: 8px; --animation: circle-2; }
        .uiverse .wrapper .circle.circle-3 { --x: -12px; --y: -12px; --animation: circle-3; }
        .uiverse .wrapper .circle.circle-4 { --x: 80px; --y: -12px; --animation: circle-4; }
        .uiverse .wrapper .circle.circle-5 { --x: 12px; --y: -4px; --animation: circle-5; }
        .uiverse .wrapper .circle.circle-6 { --x: 56px; --y: 16px; --animation: circle-6; }
        .uiverse .wrapper .circle.circle-7 { --x: 8px; --y: 28px; --animation: circle-7; }
        .uiverse .wrapper .circle.circle-8 { --x: 28px; --y: -4px; --animation: circle-8; }
        .uiverse .wrapper .circle.circle-9 { --x: 20px; --y: -12px; --animation: circle-9; }
        .uiverse .wrapper .circle.circle-10 { --x: 64px; --y: 16px; --animation: circle-10; }
        .uiverse .wrapper .circle.circle-11 { --x: 4px; --y: 4px; --animation: circle-11; }
        .uiverse .wrapper .circle.circle-12 { --blur: 14px; --x: 52px; --y: 4px; --animation: circle-12; }
        @keyframes circle-1 { 33% { transform: translate(0px, 16px) translateZ(0); } 66% { transform: translate(12px, 64px) translateZ(0); } }
        @keyframes circle-2 { 33% { transform: translate(80px, -10px) translateZ(0); } 66% { transform: translate(72px, -48px) translateZ(0); } }
        @keyframes circle-3 { 33% { transform: translate(20px, 12px) translateZ(0); } 66% { transform: translate(12px, 4px) translateZ(0); } }
        @keyframes circle-4 { 33% { transform: translate(76px, -12px) translateZ(0); } 66% { transform: translate(112px, -8px) translateZ(0); } }
        @keyframes circle-5 { 33% { transform: translate(84px, 28px) translateZ(0); } 66% { transform: translate(40px, -32px) translateZ(0); } }
        @keyframes circle-6 { 33% { transform: translate(28px, -16px) translateZ(0); } 66% { transform: translate(76px, -56px) translateZ(0); } }
        @keyframes circle-7 { 33% { transform: translate(8px, 28px) translateZ(0); } 66% { transform: translate(20px, -60px) translateZ(0); } }
        @keyframes circle-8 { 33% { transform: translate(32px, -4px) translateZ(0); } 66% { transform: translate(56px, -20px) translateZ(0); } }
        @keyframes circle-9 { 33% { transform: translate(20px, -12px) translateZ(0); } 66% { transform: translate(80px, -8px) translateZ(0); } }
        @keyframes circle-10 { 33% { transform: translate(68px, 20px) translateZ(0); } 66% { transform: translate(100px, 28px) translateZ(0); } }
        @keyframes circle-11 { 33% { transform: translate(4px, 4px) translateZ(0); } 66% { transform: translate(68px, 20px) translateZ(0); } }
        @keyframes circle-12 { 33% { transform: translate(56px, 0px) translateZ(0); } 66% { transform: translate(60px, -32px) translateZ(0); } }
        .assistant-status {
            position: fixed; bottom: 100px; right: 30px; background: rgba(0, 0, 0, 0.75);
            color: white; padding: 10px 20px; border-radius: 20px; z-index: 1099;
            opacity: 0; transition: opacity 0.3s ease; pointer-events: none;
        }
        .assistant-status.visible { opacity: 1; }
        nav a { text-decoration: none; color: #333; padding: 8px 16px; border-radius: 8px; transition: background-color 0.3s, color 0.3s; }
        nav a:hover { background-color: #f0f4ff; color: #1d4ed8; font-weight: 600; }
        nav a.active { background-color: #f0f4ff; color: #1d4ed8; font-weight: 600; }
        .nav-links { display: flex; align-items: center; gap: 10px; }
        .profile-menu-container { position: relative; }
        .profile-button {
            display: flex; align-items: center; justify-content: center; text-decoration: none;
            width: 40px; height: 40px; border-radius: 50%; background-color: #e0eaff;
            color: #1d4ed8; border: 1px solid #e0eaff; box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            font-size: 16px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;
        }
        .profile-dropdown {
            display: none; position: absolute; top: calc(100% + 12px); right: 0;
            width: 280px; background-color: white; border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1); z-index: 1010; overflow: hidden;
            transform-origin: top right; animation: scale-up-and-fade-in 0.2s ease-out;
        }
        .profile-dropdown.show { display: block; }
        @keyframes scale-up-and-fade-in { from { transform: scale(0.95); opacity: 0; } to { transform: scale(1); opacity: 1; } }
        .dropdown-profile-header { display: flex; align-items: center; gap: 12px; padding: 16px; border-bottom: 1px solid #f3f4f6; }
        .profile-pic {
            width: 48px; height: 48px; border-radius: 50%; background-color: #f3f4f6;
            display: flex; align-items: center; justify-content: center; font-size: 24px; color: #6b7280;
        }
        .profile-info strong { display: block; font-size: 1rem; font-weight: 600; color: #111827; }
        .profile-info small { font-size: 0.875rem; color: #6b7280; }
        .dropdown-menu-list { list-style: none; padding: 8px; margin: 0; }
        .dropdown-link {
            display: flex; align-items: center; width: 100%; padding: 10px 12px;
            border-radius: 8px; text-decoration: none; color: #374151;
            font-weight: 500; transition: background-color 0.2s, color 0.2s;
        }
        .dropdown-link:hover { background-color: #f3f4f6; }
        .dropdown-link .icon { width: 32px; font-size: 16px; color: #6b7280; }
        .dropdown-link .text { flex-grow: 1; }
        .dropdown-link .chevron { font-size: 12px; color: #9ca3af; }
        .dropdown-divider { margin: 0 8px; border: none; border-top: 1px solid #f3f4f6; }
        .dropdown-link.logout { margin: 8px; width: calc(100% - 16px); color: #ef4444; }
        .dropdown-link.logout .icon { color: #ef4444; }
        .dropdown-link.logout:hover { background-color: #fee2e2; }
        
        @media print {
            body { padding-top: 0; background-color: #fff; }
            nav, .control, #specific-search-section, #pdf-loading-overlay { display: none !important; }
            .container, .main-content { padding: 0; margin: 0; width: 100%; max-width: 100%; }
            .table-container { box-shadow: none; border: none; overflow: visible; }
            #global-schedule { font-size: 8pt; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
            #global-schedule th, #global-schedule td { padding: 3px; }
            #global-view-section { display: block !important; }
            @page { size: A3 landscape; margin: 0.5cm; }
        }

    </style>
</head>
<body>
    <div id="pdf-loading-overlay">
        <div id="pdf-loading-message">Génération du PDF...</div>
    </div>

    <nav>
        <img src="assets/images/logo_edtpro.png" style="height: 80px; width: auto;" id="logo" alt="Logo">
        <div class="nav-links">
            <a href="emploi.html" id="nav-emploi">Emploi globale</a>
            <a href="edition.html" id="nav-edition">Edition</a>
            <a href="avancement.html" id="nav-avancement">Avancement</a>
            <div class="profile-menu-container" id="profile-menu-container">
              <button id="profile-button" class="profile-button">
                <span id="profile-initials">--</span>
              </button>
              <div id="profile-dropdown" class="profile-dropdown">
                <div class="dropdown-profile-header">
                    <div class="profile-pic"><i class="fas fa-user"></i></div>
                    <div class="profile-info">
                        <strong id="dropdown-user-name">Chargement...</strong>
                        <small id="dropdown-user-email">...</small>
                    </div>
                </div>
                <ul class="dropdown-menu-list">
                    <li>
                        <a href="profile.html" class="dropdown-link">
                            <i class="fas fa-user-edit icon"></i>
                            <span class="text">Mon Profil</span>
                            <i class="fas fa-chevron-right chevron"></i>
                        </a>
                    </li>
                </ul>
                <hr class="dropdown-divider">
                <a href="../api/auth/logout.php" class="dropdown-link logout">
                    <i class="fas fa-sign-out-alt icon"></i>
                    <span class="text">Déconnexion</span>
                </a>
              </div>
        </div>
    </nav>

    <div class="container">
        <div class="control">
            <div class="tab-control">
                <div class="tab-container">
                    <input type="radio" name="tab" id="tab1" class="tab tab--1" checked />
                    <label for="tab1" class="tab_label">Formateur</label>
                    <input type="radio" name="tab" id="tab2" class="tab tab--2" />
                    <label for="tab2" class="tab_label">Groupe</label>
                    <div class="indicator"></div>
                </div>
            </div>
            
            <div class="week-selection">
                <div class="custom-week-picker">
                    <div id="customWeekDisplay">
                        <img src="https://cdn-icons-png.flaticon.com/512/12887/12887924.png" alt="">
                        <span id="weekDisplayText"></span>
                    </div>
                    <div id="calendarPopup">
                        <div class="calendar-header">
                            <button id="prevMonthBtn"><i class="fas fa-chevron-left"></i></button>
                            <span id="calendarTitle"></span>
                            <button id="nextMonthBtn"><i class="fas fa-chevron-right"></i></button>
                        </div>
                        <table class="calendar-grid">
                            <thead><tr><th>L</th><th>M</th><th>M</th><th>J</th><th>V</th><th>S</th><th>D</th></tr></thead>
                            <tbody id="calendarBody"></tbody>
                        </table>
                    </div>
                </div>
            </div>
            
            <div class="view-controls" style="display: flex; gap: 10px;">
                <button id="view-toggle-btn" class="btn-control">
                    <i class="fas fa-layer-group"></i><span class="label">Vue Détaillée</span>
                  </button>
                  
                  <div id="global-view-buttons" style="display: flex; gap: 10px;">
                    <button id="print-global-btn" class="btn-control" style="display: none;">
                      <i class="fas fa-print"></i> Imprimer
                    </button>
                    <button id="download-global-pdf-btn" class="btn-control">
                      <i class="fas fa-file-download"></i> PDF Global
                    </button>
                  </div>
                  
                  <button id="download-teacher-pdf" class="btn-control hidden">
                    <i class="fas fa-chalkboard-teacher"></i> PDF Formateur
                  </button>
                  
                  <button id="download-group-pdf" class="btn-control hidden">
                    <i class="fas fa-users"></i> PDF Groupe
                  </button>
                  
            </div>
        </div>

        <div class="main-content">
            <div id="global-view-section">
                <div class="table-container" style="margin: -10px -30px;">
                    <table id="global-schedule"></table>
                </div>
            </div>
            <div id="specific-search-section" class="hidden">
                 <div id="formateur-section">
                    <div class="main-grid">
                        <div class="sidebar">
                            <div class="card">
                                <div class="card-body">
                                    <label class="search-label">Rechercher un formateur</label>
                                    <div class="autocomplete-container">
                                        <input type="text" id="teacher-search" class="autocomplete-input" placeholder="Entrez le nom...">
                                        <div class="autocomplete-list" id="teacher-autocomplete-list"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="content">
                            <div class="table-container">
                                <table id="teacher-schedule-table"></table>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="groupe-section" class="hidden">
                     <div class="main-grid">
                        <div class="sidebar">
                            <div class="card">
                                <div class="card-body">
                                    <label class="search-label">Rechercher un groupe</label>
                                    <div class="autocomplete-container">
                                        <input type="text" id="group-search" class="autocomplete-input" placeholder="Entrez le nom...">
                                        <div class="autocomplete-list" id="group-autocomplete-list"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="content">
                            <div class="table-container">
                                <table id="group-schedule-table"></table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button class="uiverse" id="voiceAssistantBtn" title="Activer l'assistant vocal">
        <div class="wrapper">
          <span><i class="fas fa-microphone"></i></span>
          <div class="circle circle-12"></div><div class="circle circle-11"></div><div class="circle circle-10"></div>
          <div class="circle circle-9"></div><div class="circle circle-8"></div><div class="circle circle-7"></div>
          <div class="circle circle-6"></div><div class="circle circle-5"></div><div class="circle circle-4"></div>
          <div class="circle circle-3"></div><div class="circle circle-2"></div><div class="circle circle-1"></div>
        </div>
    </button>
    <div class="assistant-status" id="assistantStatus"></div>

    <script src="/gestion_edt/public/assets/"></script>
</body>
</html>